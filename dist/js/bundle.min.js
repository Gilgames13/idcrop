var IdCrop=function(n){function g(t){if(I[t])return I[t].exports;var c=I[t]={i:t,l:!1,exports:{}};return n[t].call(c.exports,c,c.exports,g),c.l=!0,c.exports}var I={};return g.m=n,g.c=I,g.d=function(n,I,t){g.o(n,I)||Object.defineProperty(n,I,{configurable:!1,enumerable:!0,get:t})},g.n=function(n){var I=n&&n.__esModule?function(){return n.default}:function(){return n};return g.d(I,"a",I),I},g.o=function(n,g){return Object.prototype.hasOwnProperty.call(n,g)},g.p="",g(g.s=3)}([/*!********************************!*\
  !*** ./lib/js/idcrop/Point.js ***!
  \********************************/
/*! dynamic exports provided */
/*! all exports used */
function(module,exports,__webpack_require__){"use strict";eval("\n\nclass Point {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  findAngle(other) {\n    const dx = this.x - other.x;\n    const dy = this.y - other.y;\n\n    return Math.atan2(dx, dy);\n  }\n\n  move(xStep, yStep) {\n    this.x += xStep;\n    this.y += yStep;\n  }\n\n  static findCenter(points) {\n    let x = 0;\n    let y = 0;\n\n    for (const point of points) {\n      x += point.x;\n      y += point.y;\n    }\n\n    return new Point(x / points.length, y / points.length);\n  }\n\n  static sort(points) {\n    const center = this.findCenter(points);\n\n    return points.sort(function(a, b) {\n      const aa = a.findAngle(center);\n      const ab = b.findAngle(center);\n      return aa > ab;\n    });\n  }\n}\n\nmodule.exports = exports = Point;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9qcy9pZGNyb3AvUG9pbnQuanM/NWJiYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY2xhc3MgUG9pbnQge1xuICBjb25zdHJ1Y3Rvcih4LCB5KSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICB9XG5cbiAgZmluZEFuZ2xlKG90aGVyKSB7XG4gICAgY29uc3QgZHggPSB0aGlzLnggLSBvdGhlci54O1xuICAgIGNvbnN0IGR5ID0gdGhpcy55IC0gb3RoZXIueTtcblxuICAgIHJldHVybiBNYXRoLmF0YW4yKGR4LCBkeSk7XG4gIH1cblxuICBtb3ZlKHhTdGVwLCB5U3RlcCkge1xuICAgIHRoaXMueCArPSB4U3RlcDtcbiAgICB0aGlzLnkgKz0geVN0ZXA7XG4gIH1cblxuICBzdGF0aWMgZmluZENlbnRlcihwb2ludHMpIHtcbiAgICBsZXQgeCA9IDA7XG4gICAgbGV0IHkgPSAwO1xuXG4gICAgZm9yIChjb25zdCBwb2ludCBvZiBwb2ludHMpIHtcbiAgICAgIHggKz0gcG9pbnQueDtcbiAgICAgIHkgKz0gcG9pbnQueTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFBvaW50KHggLyBwb2ludHMubGVuZ3RoLCB5IC8gcG9pbnRzLmxlbmd0aCk7XG4gIH1cblxuICBzdGF0aWMgc29ydChwb2ludHMpIHtcbiAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmZpbmRDZW50ZXIocG9pbnRzKTtcblxuICAgIHJldHVybiBwb2ludHMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICBjb25zdCBhYSA9IGEuZmluZEFuZ2xlKGNlbnRlcik7XG4gICAgICBjb25zdCBhYiA9IGIuZmluZEFuZ2xlKGNlbnRlcik7XG4gICAgICByZXR1cm4gYWEgPiBhYjtcbiAgICB9KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBQb2ludDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbGliL2pzL2lkY3JvcC9Qb2ludC5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")},/*!**********************************!*\
  !*** ./lib/js/idcrop/Polygon.js ***!
  \**********************************/
/*! dynamic exports provided */
/*! all exports used */
function(module,exports,__webpack_require__){"use strict";eval('\n\nconst Point = __webpack_require__(/*! ./Point.js */ 0);\n\nclass Polygon {\n  constructor(container, canvas, smoothen = false) {\n    this.container = container;\n    this.canvas = canvas;\n    this.smoothen = smoothen;\n  }\n\n  drawWithOverlay(\n    points,\n    overlayColor,\n    stroke,\n    strokeColor,\n    strokeDashed,\n    strokeWeight,\n    fillColor = "",\n    img = ""\n  ) {\n    const context = this.canvas.getContext("2d");\n    // Save context for clipping and clear canvas.\n    context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    context.save();\n    // Draw overlay\n    context.fillStyle = overlayColor;\n    context.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    context.restore();\n    // Draw quadrilateral.\n    context.save();\n    if (strokeDashed) context.setLineDash([5, 3]);\n    context.strokeStyle = strokeColor;\n    context.lineWidth = strokeWeight;\n    this.draw(context, points);\n    // Create a "hole" on the overlay inside the quadrilateral.\n    context.clip();\n    if (!img && !fillColor) {\n      context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    } else if (!img && fillColor) {\n      context.fillStyle = fillColor;\n      context.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    } else {\n      context.drawImage(img, 0, 0, this.canvas.width, this.canvas.height);\n    }\n    // Add stroke outside the cleared area.\n    if (stroke) context.stroke();\n    // Remove clipping mask.\n    context.restore();\n  }\n\n  draw(context, points) {\n    context.beginPath();\n    context.moveTo(points[0].x, points[0].y);\n    let coordinates = [];\n    if(!this.smoothen){\n      for (const point of points.slice(1)) {\n        context.lineTo(point.x, point.y);\n        coordinates.push([point.x, point.y]);\n      }\n    }\n    else {\n      const t = 1;\n      for (let i = 0; i < points.length - 1; i++) {\n        const p0 = (i > 0) ? points[i - 1] : points[0];\n        const p1 = points[i];\n        const p2 = points[i + 1];\n        const p3 = (i !== points.length - 2) ? points[i + 2] : p2;\n\n        const cp1x = p1.x + (p2.x - p0.x) / 6 * t;\n        const cp1y = p1.y + (p2.y - p0.y) / 6 * t;\n\n        const cp2x = p2.x - (p3.x - p1.x) / 6 * t;\n        const cp2y = p2.y - (p3.y - p1.y) / 6 * t;\n\n        context.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, p2.x, p2.y);\n        coordinates.push([points[i].x, points[i].y]);\n      }\n    }\n    \n    context.closePath();\n  }\n\n  startResizing(event, points, config) {\n    if (!this.isDrawing && event.target.className === "idwall-handle") {\n      const handle = event.target;\n      const hdim = handle.offsetWidth;\n      const direction = parseInt(handle.id.substr(10), 10);\n      const bounds = this.canvas.getBoundingClientRect();\n\n      let that = this;\n      document.onmousemove = function(event) {\n        let x = event.clientX;\n        let y = event.clientY;\n\n        if (x < bounds.left) x = bounds.left;\n        if (x > bounds.right - hdim) x = bounds.right - hdim;\n        if (y < bounds.top) y = bounds.top;\n        if (y > bounds.bottom - hdim) y = bounds.bottom - hdim;\n\n        that.resize(handle, direction, points, x, y, config);\n      };\n    }\n  }\n\n  resize(target, direction, points, x, y, config) {\n    const cbounds = this.canvas.getBoundingClientRect();\n    const dbounds = this.container.getBoundingClientRect();\n    const hdim = target.offsetWidth;\n\n    const displayX = x - dbounds.left;\n    const displayY = y - dbounds.top;\n    const canvasX = x - cbounds.left + hdim / 2;\n    const canvasY = y - cbounds.top + hdim / 2;\n\n    target.style.left = displayX + "px";\n    target.style.top = displayY + "px";\n\n    points[direction] = new Point(canvasX, canvasY);\n    this.drawWithOverlay(\n      points,\n      config.overlayColor,\n      config.stroke,\n      config.strokeColor,\n      config.strokeDashed,\n      config.strokeWeight\n    );\n\n    var resized = new CustomEvent("resized", { detail: [canvasX, canvasY] });\n    document.dispatchEvent(resized);\n  }\n}\n\nmodule.exports = exports = Polygon;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9qcy9pZGNyb3AvUG9seWdvbi5qcz9iYjBkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBQb2ludCA9IHJlcXVpcmUoXCIuL1BvaW50LmpzXCIpO1xuXG5jbGFzcyBQb2x5Z29uIHtcbiAgY29uc3RydWN0b3IoY29udGFpbmVyLCBjYW52YXMsIHNtb290aGVuID0gZmFsc2UpIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICB0aGlzLnNtb290aGVuID0gc21vb3RoZW47XG4gIH1cblxuICBkcmF3V2l0aE92ZXJsYXkoXG4gICAgcG9pbnRzLFxuICAgIG92ZXJsYXlDb2xvcixcbiAgICBzdHJva2UsXG4gICAgc3Ryb2tlQ29sb3IsXG4gICAgc3Ryb2tlRGFzaGVkLFxuICAgIHN0cm9rZVdlaWdodCxcbiAgICBmaWxsQ29sb3IgPSBcIlwiLFxuICAgIGltZyA9IFwiXCJcbiAgKSB7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAvLyBTYXZlIGNvbnRleHQgZm9yIGNsaXBwaW5nIGFuZCBjbGVhciBjYW52YXMuXG4gICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgY29udGV4dC5zYXZlKCk7XG4gICAgLy8gRHJhdyBvdmVybGF5XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBvdmVybGF5Q29sb3I7XG4gICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICAvLyBEcmF3IHF1YWRyaWxhdGVyYWwuXG4gICAgY29udGV4dC5zYXZlKCk7XG4gICAgaWYgKHN0cm9rZURhc2hlZCkgY29udGV4dC5zZXRMaW5lRGFzaChbNSwgM10pO1xuICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VDb2xvcjtcbiAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0cm9rZVdlaWdodDtcbiAgICB0aGlzLmRyYXcoY29udGV4dCwgcG9pbnRzKTtcbiAgICAvLyBDcmVhdGUgYSBcImhvbGVcIiBvbiB0aGUgb3ZlcmxheSBpbnNpZGUgdGhlIHF1YWRyaWxhdGVyYWwuXG4gICAgY29udGV4dC5jbGlwKCk7XG4gICAgaWYgKCFpbWcgJiYgIWZpbGxDb2xvcikge1xuICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG4gICAgfSBlbHNlIGlmICghaW1nICYmIGZpbGxDb2xvcikge1xuICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsQ29sb3I7XG4gICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWcsIDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgIH1cbiAgICAvLyBBZGQgc3Ryb2tlIG91dHNpZGUgdGhlIGNsZWFyZWQgYXJlYS5cbiAgICBpZiAoc3Ryb2tlKSBjb250ZXh0LnN0cm9rZSgpO1xuICAgIC8vIFJlbW92ZSBjbGlwcGluZyBtYXNrLlxuICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICB9XG5cbiAgZHJhdyhjb250ZXh0LCBwb2ludHMpIHtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQubW92ZVRvKHBvaW50c1swXS54LCBwb2ludHNbMF0ueSk7XG4gICAgbGV0IGNvb3JkaW5hdGVzID0gW107XG4gICAgaWYoIXRoaXMuc21vb3RoZW4pe1xuICAgICAgZm9yIChjb25zdCBwb2ludCBvZiBwb2ludHMuc2xpY2UoMSkpIHtcbiAgICAgICAgY29udGV4dC5saW5lVG8ocG9pbnQueCwgcG9pbnQueSk7XG4gICAgICAgIGNvb3JkaW5hdGVzLnB1c2goW3BvaW50LngsIHBvaW50LnldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCB0ID0gMTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICBjb25zdCBwMCA9IChpID4gMCkgPyBwb2ludHNbaSAtIDFdIDogcG9pbnRzWzBdO1xuICAgICAgICBjb25zdCBwMSA9IHBvaW50c1tpXTtcbiAgICAgICAgY29uc3QgcDIgPSBwb2ludHNbaSArIDFdO1xuICAgICAgICBjb25zdCBwMyA9IChpICE9PSBwb2ludHMubGVuZ3RoIC0gMikgPyBwb2ludHNbaSArIDJdIDogcDI7XG5cbiAgICAgICAgY29uc3QgY3AxeCA9IHAxLnggKyAocDIueCAtIHAwLngpIC8gNiAqIHQ7XG4gICAgICAgIGNvbnN0IGNwMXkgPSBwMS55ICsgKHAyLnkgLSBwMC55KSAvIDYgKiB0O1xuXG4gICAgICAgIGNvbnN0IGNwMnggPSBwMi54IC0gKHAzLnggLSBwMS54KSAvIDYgKiB0O1xuICAgICAgICBjb25zdCBjcDJ5ID0gcDIueSAtIChwMy55IC0gcDEueSkgLyA2ICogdDtcblxuICAgICAgICBjb250ZXh0LmJlemllckN1cnZlVG8oY3AxeCwgY3AxeSwgY3AyeCwgY3AyeSwgcDIueCwgcDIueSk7XG4gICAgICAgIGNvb3JkaW5hdGVzLnB1c2goW3BvaW50c1tpXS54LCBwb2ludHNbaV0ueV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICB9XG5cbiAgc3RhcnRSZXNpemluZyhldmVudCwgcG9pbnRzLCBjb25maWcpIHtcbiAgICBpZiAoIXRoaXMuaXNEcmF3aW5nICYmIGV2ZW50LnRhcmdldC5jbGFzc05hbWUgPT09IFwiaWR3YWxsLWhhbmRsZVwiKSB7XG4gICAgICBjb25zdCBoYW5kbGUgPSBldmVudC50YXJnZXQ7XG4gICAgICBjb25zdCBoZGltID0gaGFuZGxlLm9mZnNldFdpZHRoO1xuICAgICAgY29uc3QgZGlyZWN0aW9uID0gcGFyc2VJbnQoaGFuZGxlLmlkLnN1YnN0cigxMCksIDEwKTtcbiAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICBsZXQgdGhhdCA9IHRoaXM7XG4gICAgICBkb2N1bWVudC5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGxldCB4ID0gZXZlbnQuY2xpZW50WDtcbiAgICAgICAgbGV0IHkgPSBldmVudC5jbGllbnRZO1xuXG4gICAgICAgIGlmICh4IDwgYm91bmRzLmxlZnQpIHggPSBib3VuZHMubGVmdDtcbiAgICAgICAgaWYgKHggPiBib3VuZHMucmlnaHQgLSBoZGltKSB4ID0gYm91bmRzLnJpZ2h0IC0gaGRpbTtcbiAgICAgICAgaWYgKHkgPCBib3VuZHMudG9wKSB5ID0gYm91bmRzLnRvcDtcbiAgICAgICAgaWYgKHkgPiBib3VuZHMuYm90dG9tIC0gaGRpbSkgeSA9IGJvdW5kcy5ib3R0b20gLSBoZGltO1xuXG4gICAgICAgIHRoYXQucmVzaXplKGhhbmRsZSwgZGlyZWN0aW9uLCBwb2ludHMsIHgsIHksIGNvbmZpZyk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHJlc2l6ZSh0YXJnZXQsIGRpcmVjdGlvbiwgcG9pbnRzLCB4LCB5LCBjb25maWcpIHtcbiAgICBjb25zdCBjYm91bmRzID0gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgZGJvdW5kcyA9IHRoaXMuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGhkaW0gPSB0YXJnZXQub2Zmc2V0V2lkdGg7XG5cbiAgICBjb25zdCBkaXNwbGF5WCA9IHggLSBkYm91bmRzLmxlZnQ7XG4gICAgY29uc3QgZGlzcGxheVkgPSB5IC0gZGJvdW5kcy50b3A7XG4gICAgY29uc3QgY2FudmFzWCA9IHggLSBjYm91bmRzLmxlZnQgKyBoZGltIC8gMjtcbiAgICBjb25zdCBjYW52YXNZID0geSAtIGNib3VuZHMudG9wICsgaGRpbSAvIDI7XG5cbiAgICB0YXJnZXQuc3R5bGUubGVmdCA9IGRpc3BsYXlYICsgXCJweFwiO1xuICAgIHRhcmdldC5zdHlsZS50b3AgPSBkaXNwbGF5WSArIFwicHhcIjtcblxuICAgIHBvaW50c1tkaXJlY3Rpb25dID0gbmV3IFBvaW50KGNhbnZhc1gsIGNhbnZhc1kpO1xuICAgIHRoaXMuZHJhd1dpdGhPdmVybGF5KFxuICAgICAgcG9pbnRzLFxuICAgICAgY29uZmlnLm92ZXJsYXlDb2xvcixcbiAgICAgIGNvbmZpZy5zdHJva2UsXG4gICAgICBjb25maWcuc3Ryb2tlQ29sb3IsXG4gICAgICBjb25maWcuc3Ryb2tlRGFzaGVkLFxuICAgICAgY29uZmlnLnN0cm9rZVdlaWdodFxuICAgICk7XG5cbiAgICB2YXIgcmVzaXplZCA9IG5ldyBDdXN0b21FdmVudChcInJlc2l6ZWRcIiwgeyBkZXRhaWw6IFtjYW52YXNYLCBjYW52YXNZXSB9KTtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KHJlc2l6ZWQpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IFBvbHlnb247XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2xpYi9qcy9pZGNyb3AvUG9seWdvbi5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n')},/*!**********************************!*\
  !*** ./lib/js/idcrop/helpers.js ***!
  \**********************************/
/*! dynamic exports provided */
/*! all exports used */
function(module,exports){eval('function loadImage(src) {\n  var img = new Image();\n  /* eslint-disable */\n  img.src = src.substring(0, 1) === "\\"" ? src.substring(1, src.length - 1) : src;\n  /* eslint-enable */\n  return new Promise(function(resolve, reject) {\n    img.onload = () => resolve(img);\n    img.onerror = error => reject(error);\n  });\n}\n\nfunction dataURIFromSrc(src) {\n  var canvas = document.createElement("canvas");\n  var context = canvas.getContext("2d");\n  return loadImage(src).then(function(img) {\n    canvas.width = img.width;\n    canvas.height = img.height;\n    context.drawImage(img, 0, 0, canvas.width, canvas.height);\n    return canvas.toDataURL();\n  });\n}\n\nfunction getBgSource(element) {\n  const style = element.currentStyle || window.getComputedStyle(element, false);\n  return style.backgroundImage.slice(4, -1);\n}\n\nfunction fakeInput(input, fakeInput) {\n  input.style.display = "none";\n  fakeInput.addEventListener("click", function(event) {\n    event = event || window.event;\n    event.preventDefault();\n    input.click();\n  });\n}\n\nfunction dragDropInput(input, dragArea, filenameArea, self) {\n  dragArea.addEventListener("dragenter", function() {\n    dragArea.classList.add("hovered");\n  });\n  dragArea.addEventListener("dragleave", function() {\n    dragArea.classList.remove("hovered");\n  });\n  dragArea.addEventListener("dragover", function(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    event.dataTransfer.dropEffect = "copy";\n  });\n  dragArea.addEventListener("drop", function(event) {\n    event.preventDefault();\n    dragArea.classList.remove("hovered");\n    getFile(event).then(data => {\n      filenameArea.innerHTML = data.filename;\n      self.startCroppingArea(data.base64, self);\n    });\n  });\n  input.addEventListener("change", function(event) {\n    getFile(event).then(data => {\n      filenameArea.innerHTML = data.filename;\n      self.startCroppingArea(data.base64, self);\n    });\n  });\n}\n\nfunction getFile(event) {\n  event.preventDefault();\n  const file =\n    typeof event.target.files !== "undefined"\n      ? event.target.files[0]\n      : event.dataTransfer.files[0];\n  const reader = new FileReader();\n  reader.readAsDataURL(file);\n  return new Promise(function(resolve, reject) {\n    reader.onload = event =>\n      resolve({\n        filename: file.name,\n        base64: event.target.result\n      });\n    reader.onerror = error => reject(error);\n  });\n}\n\nmodule.exports = exports = {\n  loadImage,\n  dataURIFromSrc,\n  getBgSource,\n  fakeInput,\n  dragDropInput,\n  getFile\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9qcy9pZGNyb3AvaGVscGVycy5qcz9kOTlhIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGxvYWRJbWFnZShzcmMpIHtcbiAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xuICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICBpbWcuc3JjID0gc3JjLnN1YnN0cmluZygwLCAxKSA9PT0gXCJcXFwiXCIgPyBzcmMuc3Vic3RyaW5nKDEsIHNyYy5sZW5ndGggLSAxKSA6IHNyYztcbiAgLyogZXNsaW50LWVuYWJsZSAqL1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoaW1nKTtcbiAgICBpbWcub25lcnJvciA9IGVycm9yID0+IHJlamVjdChlcnJvcik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBkYXRhVVJJRnJvbVNyYyhzcmMpIHtcbiAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgcmV0dXJuIGxvYWRJbWFnZShzcmMpLnRoZW4oZnVuY3Rpb24oaW1nKSB7XG4gICAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgIGNvbnRleHQuZHJhd0ltYWdlKGltZywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0QmdTb3VyY2UoZWxlbWVudCkge1xuICBjb25zdCBzdHlsZSA9IGVsZW1lbnQuY3VycmVudFN0eWxlIHx8IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIGZhbHNlKTtcbiAgcmV0dXJuIHN0eWxlLmJhY2tncm91bmRJbWFnZS5zbGljZSg0LCAtMSk7XG59XG5cbmZ1bmN0aW9uIGZha2VJbnB1dChpbnB1dCwgZmFrZUlucHV0KSB7XG4gIGlucHV0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgZmFrZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50ID0gZXZlbnQgfHwgd2luZG93LmV2ZW50O1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaW5wdXQuY2xpY2soKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGRyYWdEcm9wSW5wdXQoaW5wdXQsIGRyYWdBcmVhLCBmaWxlbmFtZUFyZWEsIHNlbGYpIHtcbiAgZHJhZ0FyZWEuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdlbnRlclwiLCBmdW5jdGlvbigpIHtcbiAgICBkcmFnQXJlYS5jbGFzc0xpc3QuYWRkKFwiaG92ZXJlZFwiKTtcbiAgfSk7XG4gIGRyYWdBcmVhLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnbGVhdmVcIiwgZnVuY3Rpb24oKSB7XG4gICAgZHJhZ0FyZWEuY2xhc3NMaXN0LnJlbW92ZShcImhvdmVyZWRcIik7XG4gIH0pO1xuICBkcmFnQXJlYS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gXCJjb3B5XCI7XG4gIH0pO1xuICBkcmFnQXJlYS5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZHJhZ0FyZWEuY2xhc3NMaXN0LnJlbW92ZShcImhvdmVyZWRcIik7XG4gICAgZ2V0RmlsZShldmVudCkudGhlbihkYXRhID0+IHtcbiAgICAgIGZpbGVuYW1lQXJlYS5pbm5lckhUTUwgPSBkYXRhLmZpbGVuYW1lO1xuICAgICAgc2VsZi5zdGFydENyb3BwaW5nQXJlYShkYXRhLmJhc2U2NCwgc2VsZik7XG4gICAgfSk7XG4gIH0pO1xuICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZ2V0RmlsZShldmVudCkudGhlbihkYXRhID0+IHtcbiAgICAgIGZpbGVuYW1lQXJlYS5pbm5lckhUTUwgPSBkYXRhLmZpbGVuYW1lO1xuICAgICAgc2VsZi5zdGFydENyb3BwaW5nQXJlYShkYXRhLmJhc2U2NCwgc2VsZik7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRGaWxlKGV2ZW50KSB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IGZpbGUgPVxuICAgIHR5cGVvZiBldmVudC50YXJnZXQuZmlsZXMgIT09IFwidW5kZWZpbmVkXCJcbiAgICAgID8gZXZlbnQudGFyZ2V0LmZpbGVzWzBdXG4gICAgICA6IGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlc1swXTtcbiAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZWFkZXIub25sb2FkID0gZXZlbnQgPT5cbiAgICAgIHJlc29sdmUoe1xuICAgICAgICBmaWxlbmFtZTogZmlsZS5uYW1lLFxuICAgICAgICBiYXNlNjQ6IGV2ZW50LnRhcmdldC5yZXN1bHRcbiAgICAgIH0pO1xuICAgIHJlYWRlci5vbmVycm9yID0gZXJyb3IgPT4gcmVqZWN0KGVycm9yKTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IHtcbiAgbG9hZEltYWdlLFxuICBkYXRhVVJJRnJvbVNyYyxcbiAgZ2V0QmdTb3VyY2UsXG4gIGZha2VJbnB1dCxcbiAgZHJhZ0Ryb3BJbnB1dCxcbiAgZ2V0RmlsZVxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbGliL2pzL2lkY3JvcC9oZWxwZXJzLmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n')},/*!*********************************!*\
  !*** ./lib/js/idcrop/IdCrop.js ***!
  \*********************************/
/*! dynamic exports provided */
/*! all exports used */
function(module,exports,__webpack_require__){"use strict";eval('\n\nconst Point = __webpack_require__(/*! ./Point.js */ 0);\nconst Handle = __webpack_require__(/*! ./Handle.js */ 4);\nconst Polygon = __webpack_require__(/*! ./Polygon.js */ 1);\nconst CropArea = __webpack_require__(/*! ./CropArea.js */ 5);\n\nconst helpers = __webpack_require__(/*! ./helpers.js */ 2);\n\nclass IdCrop {\n  constructor(config) {\n    this.config = {\n      numPoints: typeof config.numPoints !== "undefined" ? config.numPoints : 4,\n      allowUpload:\n        typeof config.allowUpload !== "undefined" ? config.allowUpload : true,\n      closeButtonSelector:\n        typeof config.closeButtonSelector !== "undefined" \n        ? config.closeButtonSelector \n        : false,\n      containers: {\n        displayArea: document.querySelector(config.displaySelector),\n        toolbarArea: config.toolbarSelector\n          ? document.querySelector(config.toolbarSelector)\n          : "",\n        previewArea: config.previewSelector\n          ? document.querySelector(config.previewSelector)\n          : ""\n      },\n      croppingArea: {\n        overlayColor:\n          typeof config.croppingArea !== "undefined" &&\n          typeof config.croppingArea.overlayColor !== "undefined"\n            ? config.croppingArea.overlayColor\n            : "rgba(0, 0, 0, 0.7)",\n        stroke:\n          typeof config.croppingArea !== "undefined" &&\n          typeof config.croppingArea.stroke !== "undefined"\n            ? config.croppingArea.stroke\n            : true,\n        strokeColor:\n          typeof config.croppingArea !== "undefined" &&\n          typeof config.croppingArea.strokeColor !== "undefined"\n            ? config.croppingArea.strokeColor\n            : "white",\n        strokeDashed:\n          typeof config.croppingArea !== "undefined" &&\n          typeof config.croppingArea.strokeDashed !== "undefined"\n            ? config.croppingArea.strokeDashed\n            : true,\n        strokeWeight:\n          typeof config.croppingArea !== "undefined" &&\n          typeof config.croppingArea.strokeWeight !== "undefined"\n            ? config.croppingArea.strokeWeight\n            : 2\n      },\n      crop: {\n        overlayColor:\n          typeof config.crop !== "undefined" &&\n          typeof config.crop.overlayColor !== "undefined"\n            ? config.crop.overlayColor\n            : "rgba(0, 0, 0, 0)",\n        fillColor:\n          typeof config.crop !== "undefined" &&\n          typeof config.crop.fillColor !== "undefined"\n            ? config.crop.fillColor\n            : false,\n        showImage:\n          typeof config.crop !== "undefined" &&\n          typeof config.crop.showImage !== "undefined"\n            ? config.crop.showImage\n            : true,\n        stroke:\n          typeof config.crop !== "undefined" &&\n          typeof config.crop.stroke !== "undefined"\n            ? config.crop.stroke\n            : true,\n        strokeColor:\n          typeof config.crop !== "undefined" &&\n          typeof config.crop.strokeColor !== "undefined"\n            ? config.crop.strokeColor\n            : false,\n        strokeDashed:\n          typeof config.crop !== "undefined" &&\n          typeof config.crop.strokeDashed !== "undefined"\n            ? config.crop.strokeDashed\n            : false,\n        strokeWeight:\n          typeof config.crop !== "undefined" &&\n          typeof config.crop.strokeWeight !== "undefined"\n            ? config.crop.strokeWeight\n            : 0\n      },\n      handles: {\n        class:\n          typeof config.handles !== "undefined" &&\n          typeof config.handles.class !== "undefined"\n            ? config.handles.class\n            : "",\n        defaultStyles:\n          typeof config.handles !== "undefined" &&\n          typeof config.handles.defaultStyles !== "undefined"\n            ? config.handles.defaultStyles\n            : true\n      },\n      points:  typeof config.points !== "undefined" && config.points.length > 0 ?  config.points : [],\n      image: typeof config.image !== "undefined" && config.image !== null ? config.image : false,\n      smoothen: typeof config.smoothen !== "undefined" ? config.smoothen : false\n    };\n\n    this.handles = [];\n    this.points = this.config.points;\n  }\n\n  init() {\n    const self = this;\n    const c = this.config.containers;\n\n    c.displayArea.classList.add("idwall-display");\n\n    if (c.previewArea) c.previewArea.classList.add("idwall-preview");\n\n    if (c.toolbarArea) {\n      if (this.config.numPoints === Infinity) {\n        var closeButton = "";\n        if (this.config.closeButtonSelector) {\n          closeButton = document.querySelector(this.config.closeButtonSelector)\n        } else {\n          closeButton = document.createElement("button");\n          var closeButtonText = document.createTextNode("Close path");\n          closeButton.appendChild(closeButtonText);\n          c.toolbarArea.appendChild(closeButton);\n        }\n        closeButton.addEventListener("click", function() {\n          self.startCroppingPolygon();\n        });\n      }\n    }\n\n    if (c.toolbarArea && this.config.allowUpload) {\n      var hint = document.createElement("p");\n      var hintText = document.createTextNode("Drop files here or ");\n      var fakeInput = document.createElement("a");\n      var fakeInputText = document.createTextNode("Browse...");\n      fakeInput.title = "Browse";\n      fakeInput.href = "";\n      fakeInput.appendChild(fakeInputText);\n      hint.appendChild(hintText);\n      hint.appendChild(fakeInput);\n      c.displayArea.appendChild(hint);\n\n      var filenameArea = document.createElement("p");\n      filenameArea.appendChild(document.createTextNode("No file selected."));\n      c.toolbarArea.appendChild(filenameArea);\n\n      var input = document.createElement("input");\n      input.type = "file";\n      c.toolbarArea.appendChild(input);\n      helpers.fakeInput(input, fakeInput);\n      helpers.dragDropInput(input, c.displayArea, filenameArea, this);\n    }\n\n    if (this.config.image) {\n      var src = this.config.image.src\n      helpers.dataURIFromSrc(src).then(function(base64) {\n        self.startCroppingArea(base64, self);\n      });\n    }\n\n    if ((!c.toolbarArea || !this.config.allowUpload) && !this.config.image) {\n      var src = helpers.getBgSource(c.displayArea);\n      helpers.dataURIFromSrc(src).then(function(base64) {\n        self.startCroppingArea(base64, self);\n      });\n    }\n\n    window.addEventListener("mouseup", function() {\n      if (self.config.containers.previewArea) self.drawPreview(self);\n      document.onmousemove = function() {};\n    });\n\n    var created = new CustomEvent("created", { detail: self.config });\n    document.dispatchEvent(created);\n  }\n\n  startCroppingArea(base64, self) {\n    const displayArea = self.config.containers.displayArea;\n\n    self.cropArea = new CropArea(displayArea, base64);\n    self.cropArea.create().then(function(img) {\n      self.image = img;\n      displayArea.style.backgroundImage = "url(\'" + base64 + "\')";\n\n      self.points.forEach(item => {\n        self.createPremadeHandles(item, self);\n      });\n    });\n\n    for (const handle of self.handles) {\n      handle.deleteNode();\n    }\n\n    self.handles = [];\n    self.cropArea.canvas.addEventListener("mousedown", function(event) {\n      self.createHandles(event, self);\n    });\n  }\n\n  createPremadeHandles(item, self) {\n    if (self.cropArea.isDrawing) {\n      let point = item,\n      handle = new Handle(\n          self.config.containers.displayArea,\n          self.image.left,\n          self.image.top,\n          point\n        );\n\n      handle.init(self.config.handles.defaultStyles, self.config.handles.class);\n      self.handles.push(handle);\n\n      if (self.handles.length == self.config.numPoints || (self.shouldAutomaticallyClosePolygon(item, self))) {\n        self.startCroppingPolygon(self);\n      }\n    }\n  }\n\n  shouldAutomaticallyClosePolygon(item, self) {\n    if(typeof self.config.points != \'undefined\' && self.config.points.length > 0\n        && self.config.points[self.config.points.length - 1].x === item.x && self.config.points[self.config.points.length - 1].y === item.y){\n          return true;\n        }\n    return false;\n  }\n\n  createHandles(event, self) {\n    if (self.cropArea.isDrawing) {\n      const cbounds = self.cropArea.canvas.getBoundingClientRect();\n      const x = event.clientX - cbounds.left,\n        y = event.clientY - cbounds.top;\n\n      let point = new Point(x, y),\n        handle = new Handle(\n          self.config.containers.displayArea,\n          self.image.left,\n          self.image.top,\n          point\n        );\n\n      handle.init(self.config.handles.defaultStyles, self.config.handles.class);\n      self.handles.push(handle);\n      self.points.push(point);\n\n      if (self.handles.length == self.config.numPoints) {\n        self.startCroppingPolygon(self);\n      }\n    }\n  }\n\n  startCroppingPolygon(self = this) {\n    const c = self.config.croppingArea;\n\n    self.points = Point.sort(self.points);\n    self.cropArea.isDrawing = false;\n\n    self.cropPolygon = new Polygon(\n      self.config.containers.displayArea,\n      self.cropArea.canvas,\n      self.config.smoothen\n    );\n    self.cropPolygon.drawWithOverlay(\n      self.points,\n      c.overlayColor,\n      c.stroke,\n      c.strokeColor,\n      c.strokeDashed,\n      c.strokeWeight\n    );\n\n    for (const handle of self.handles) {\n      const config = self.config.croppingArea;\n      handle.direction = handle.setDirection(self.points);\n      handle.node.addEventListener("mousedown", function(event) {\n        self.cropPolygon.startResizing(event, self.points, config);\n      });\n    }\n\n    self.drawPreview(self);\n  }\n\n  drawPreview(self) {\n    if (\n      typeof this.cropArea !== "undefined" &&\n      this.cropArea.isDrawing == false\n    ) {\n      const base64 = this.cropArea.crop(\n        this.image.img,\n        this.config.containers.previewArea,\n        this.points,\n        this.config.crop,\n        this.config.smoothen\n      );\n      self.config.containers.previewArea.style.backgroundImage =\n        "url(\'" + base64 + "\')";\n    }\n  }\n\n  reset() {\n    this.cropArea = undefined;\n    this.cropPolygon = undefined;\n    \n    this.handles = [];\n    this.points = [];\n    this.image = "data:image/jpeg;base64,";\n\n    if (this.previewArea) this.previewArea.style.backgroundImage = "";\n\n    this.init();\n  }\n\n  getPoints() {\n    let realPoints = [];\n    for (const point of this.points) {\n      realPoints.push(\n        new Point(point.x * this.image.ratio, point.y * this.image.ratio)\n      );\n    }\n    return realPoints;\n  }\n}\n\nmodule.exports = exports = IdCrop;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9qcy9pZGNyb3AvSWRDcm9wLmpzP2FlMWIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IFBvaW50ID0gcmVxdWlyZShcIi4vUG9pbnQuanNcIik7XG5jb25zdCBIYW5kbGUgPSByZXF1aXJlKFwiLi9IYW5kbGUuanNcIik7XG5jb25zdCBQb2x5Z29uID0gcmVxdWlyZShcIi4vUG9seWdvbi5qc1wiKTtcbmNvbnN0IENyb3BBcmVhID0gcmVxdWlyZShcIi4vQ3JvcEFyZWEuanNcIik7XG5cbmNvbnN0IGhlbHBlcnMgPSByZXF1aXJlKFwiLi9oZWxwZXJzLmpzXCIpO1xuXG5jbGFzcyBJZENyb3Age1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIG51bVBvaW50czogdHlwZW9mIGNvbmZpZy5udW1Qb2ludHMgIT09IFwidW5kZWZpbmVkXCIgPyBjb25maWcubnVtUG9pbnRzIDogNCxcbiAgICAgIGFsbG93VXBsb2FkOlxuICAgICAgICB0eXBlb2YgY29uZmlnLmFsbG93VXBsb2FkICE9PSBcInVuZGVmaW5lZFwiID8gY29uZmlnLmFsbG93VXBsb2FkIDogdHJ1ZSxcbiAgICAgIGNsb3NlQnV0dG9uU2VsZWN0b3I6XG4gICAgICAgIHR5cGVvZiBjb25maWcuY2xvc2VCdXR0b25TZWxlY3RvciAhPT0gXCJ1bmRlZmluZWRcIiBcbiAgICAgICAgPyBjb25maWcuY2xvc2VCdXR0b25TZWxlY3RvciBcbiAgICAgICAgOiBmYWxzZSxcbiAgICAgIGNvbnRhaW5lcnM6IHtcbiAgICAgICAgZGlzcGxheUFyZWE6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLmRpc3BsYXlTZWxlY3RvciksXG4gICAgICAgIHRvb2xiYXJBcmVhOiBjb25maWcudG9vbGJhclNlbGVjdG9yXG4gICAgICAgICAgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy50b29sYmFyU2VsZWN0b3IpXG4gICAgICAgICAgOiBcIlwiLFxuICAgICAgICBwcmV2aWV3QXJlYTogY29uZmlnLnByZXZpZXdTZWxlY3RvclxuICAgICAgICAgID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcucHJldmlld1NlbGVjdG9yKVxuICAgICAgICAgIDogXCJcIlxuICAgICAgfSxcbiAgICAgIGNyb3BwaW5nQXJlYToge1xuICAgICAgICBvdmVybGF5Q29sb3I6XG4gICAgICAgICAgdHlwZW9mIGNvbmZpZy5jcm9wcGluZ0FyZWEgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICB0eXBlb2YgY29uZmlnLmNyb3BwaW5nQXJlYS5vdmVybGF5Q29sb3IgIT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgID8gY29uZmlnLmNyb3BwaW5nQXJlYS5vdmVybGF5Q29sb3JcbiAgICAgICAgICAgIDogXCJyZ2JhKDAsIDAsIDAsIDAuNylcIixcbiAgICAgICAgc3Ryb2tlOlxuICAgICAgICAgIHR5cGVvZiBjb25maWcuY3JvcHBpbmdBcmVhICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgICAgdHlwZW9mIGNvbmZpZy5jcm9wcGluZ0FyZWEuc3Ryb2tlICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICA/IGNvbmZpZy5jcm9wcGluZ0FyZWEuc3Ryb2tlXG4gICAgICAgICAgICA6IHRydWUsXG4gICAgICAgIHN0cm9rZUNvbG9yOlxuICAgICAgICAgIHR5cGVvZiBjb25maWcuY3JvcHBpbmdBcmVhICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgICAgdHlwZW9mIGNvbmZpZy5jcm9wcGluZ0FyZWEuc3Ryb2tlQ29sb3IgIT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgID8gY29uZmlnLmNyb3BwaW5nQXJlYS5zdHJva2VDb2xvclxuICAgICAgICAgICAgOiBcIndoaXRlXCIsXG4gICAgICAgIHN0cm9rZURhc2hlZDpcbiAgICAgICAgICB0eXBlb2YgY29uZmlnLmNyb3BwaW5nQXJlYSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICAgIHR5cGVvZiBjb25maWcuY3JvcHBpbmdBcmVhLnN0cm9rZURhc2hlZCAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgPyBjb25maWcuY3JvcHBpbmdBcmVhLnN0cm9rZURhc2hlZFxuICAgICAgICAgICAgOiB0cnVlLFxuICAgICAgICBzdHJva2VXZWlnaHQ6XG4gICAgICAgICAgdHlwZW9mIGNvbmZpZy5jcm9wcGluZ0FyZWEgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICB0eXBlb2YgY29uZmlnLmNyb3BwaW5nQXJlYS5zdHJva2VXZWlnaHQgIT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgID8gY29uZmlnLmNyb3BwaW5nQXJlYS5zdHJva2VXZWlnaHRcbiAgICAgICAgICAgIDogMlxuICAgICAgfSxcbiAgICAgIGNyb3A6IHtcbiAgICAgICAgb3ZlcmxheUNvbG9yOlxuICAgICAgICAgIHR5cGVvZiBjb25maWcuY3JvcCAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICAgIHR5cGVvZiBjb25maWcuY3JvcC5vdmVybGF5Q29sb3IgIT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgID8gY29uZmlnLmNyb3Aub3ZlcmxheUNvbG9yXG4gICAgICAgICAgICA6IFwicmdiYSgwLCAwLCAwLCAwKVwiLFxuICAgICAgICBmaWxsQ29sb3I6XG4gICAgICAgICAgdHlwZW9mIGNvbmZpZy5jcm9wICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgICAgdHlwZW9mIGNvbmZpZy5jcm9wLmZpbGxDb2xvciAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgPyBjb25maWcuY3JvcC5maWxsQ29sb3JcbiAgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgIHNob3dJbWFnZTpcbiAgICAgICAgICB0eXBlb2YgY29uZmlnLmNyb3AgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICB0eXBlb2YgY29uZmlnLmNyb3Auc2hvd0ltYWdlICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICA/IGNvbmZpZy5jcm9wLnNob3dJbWFnZVxuICAgICAgICAgICAgOiB0cnVlLFxuICAgICAgICBzdHJva2U6XG4gICAgICAgICAgdHlwZW9mIGNvbmZpZy5jcm9wICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgICAgdHlwZW9mIGNvbmZpZy5jcm9wLnN0cm9rZSAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgPyBjb25maWcuY3JvcC5zdHJva2VcbiAgICAgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgc3Ryb2tlQ29sb3I6XG4gICAgICAgICAgdHlwZW9mIGNvbmZpZy5jcm9wICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgICAgdHlwZW9mIGNvbmZpZy5jcm9wLnN0cm9rZUNvbG9yICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICA/IGNvbmZpZy5jcm9wLnN0cm9rZUNvbG9yXG4gICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICBzdHJva2VEYXNoZWQ6XG4gICAgICAgICAgdHlwZW9mIGNvbmZpZy5jcm9wICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICAgICAgdHlwZW9mIGNvbmZpZy5jcm9wLnN0cm9rZURhc2hlZCAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgPyBjb25maWcuY3JvcC5zdHJva2VEYXNoZWRcbiAgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgIHN0cm9rZVdlaWdodDpcbiAgICAgICAgICB0eXBlb2YgY29uZmlnLmNyb3AgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICB0eXBlb2YgY29uZmlnLmNyb3Auc3Ryb2tlV2VpZ2h0ICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICA/IGNvbmZpZy5jcm9wLnN0cm9rZVdlaWdodFxuICAgICAgICAgICAgOiAwXG4gICAgICB9LFxuICAgICAgaGFuZGxlczoge1xuICAgICAgICBjbGFzczpcbiAgICAgICAgICB0eXBlb2YgY29uZmlnLmhhbmRsZXMgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICB0eXBlb2YgY29uZmlnLmhhbmRsZXMuY2xhc3MgIT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgID8gY29uZmlnLmhhbmRsZXMuY2xhc3NcbiAgICAgICAgICAgIDogXCJcIixcbiAgICAgICAgZGVmYXVsdFN0eWxlczpcbiAgICAgICAgICB0eXBlb2YgY29uZmlnLmhhbmRsZXMgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICB0eXBlb2YgY29uZmlnLmhhbmRsZXMuZGVmYXVsdFN0eWxlcyAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgPyBjb25maWcuaGFuZGxlcy5kZWZhdWx0U3R5bGVzXG4gICAgICAgICAgICA6IHRydWVcbiAgICAgIH0sXG4gICAgICBwb2ludHM6ICB0eXBlb2YgY29uZmlnLnBvaW50cyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb25maWcucG9pbnRzLmxlbmd0aCA+IDAgPyAgY29uZmlnLnBvaW50cyA6IFtdLFxuICAgICAgaW1hZ2U6IHR5cGVvZiBjb25maWcuaW1hZ2UgIT09IFwidW5kZWZpbmVkXCIgJiYgY29uZmlnLmltYWdlICE9PSBudWxsID8gY29uZmlnLmltYWdlIDogZmFsc2UsXG4gICAgICBzbW9vdGhlbjogdHlwZW9mIGNvbmZpZy5zbW9vdGhlbiAhPT0gXCJ1bmRlZmluZWRcIiA/IGNvbmZpZy5zbW9vdGhlbiA6IGZhbHNlXG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlcyA9IFtdO1xuICAgIHRoaXMucG9pbnRzID0gdGhpcy5jb25maWcucG9pbnRzO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBjID0gdGhpcy5jb25maWcuY29udGFpbmVycztcblxuICAgIGMuZGlzcGxheUFyZWEuY2xhc3NMaXN0LmFkZChcImlkd2FsbC1kaXNwbGF5XCIpO1xuXG4gICAgaWYgKGMucHJldmlld0FyZWEpIGMucHJldmlld0FyZWEuY2xhc3NMaXN0LmFkZChcImlkd2FsbC1wcmV2aWV3XCIpO1xuXG4gICAgaWYgKGMudG9vbGJhckFyZWEpIHtcbiAgICAgIGlmICh0aGlzLmNvbmZpZy5udW1Qb2ludHMgPT09IEluZmluaXR5KSB7XG4gICAgICAgIHZhciBjbG9zZUJ1dHRvbiA9IFwiXCI7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5jbG9zZUJ1dHRvblNlbGVjdG9yKSB7XG4gICAgICAgICAgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuY29uZmlnLmNsb3NlQnV0dG9uU2VsZWN0b3IpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAgIHZhciBjbG9zZUJ1dHRvblRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIkNsb3NlIHBhdGhcIik7XG4gICAgICAgICAgY2xvc2VCdXR0b24uYXBwZW5kQ2hpbGQoY2xvc2VCdXR0b25UZXh0KTtcbiAgICAgICAgICBjLnRvb2xiYXJBcmVhLmFwcGVuZENoaWxkKGNsb3NlQnV0dG9uKTtcbiAgICAgICAgfVxuICAgICAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5zdGFydENyb3BwaW5nUG9seWdvbigpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYy50b29sYmFyQXJlYSAmJiB0aGlzLmNvbmZpZy5hbGxvd1VwbG9hZCkge1xuICAgICAgdmFyIGhpbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgIHZhciBoaW50VGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiRHJvcCBmaWxlcyBoZXJlIG9yIFwiKTtcbiAgICAgIHZhciBmYWtlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgIHZhciBmYWtlSW5wdXRUZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJCcm93c2UuLi5cIik7XG4gICAgICBmYWtlSW5wdXQudGl0bGUgPSBcIkJyb3dzZVwiO1xuICAgICAgZmFrZUlucHV0LmhyZWYgPSBcIlwiO1xuICAgICAgZmFrZUlucHV0LmFwcGVuZENoaWxkKGZha2VJbnB1dFRleHQpO1xuICAgICAgaGludC5hcHBlbmRDaGlsZChoaW50VGV4dCk7XG4gICAgICBoaW50LmFwcGVuZENoaWxkKGZha2VJbnB1dCk7XG4gICAgICBjLmRpc3BsYXlBcmVhLmFwcGVuZENoaWxkKGhpbnQpO1xuXG4gICAgICB2YXIgZmlsZW5hbWVBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICBmaWxlbmFtZUFyZWEuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJObyBmaWxlIHNlbGVjdGVkLlwiKSk7XG4gICAgICBjLnRvb2xiYXJBcmVhLmFwcGVuZENoaWxkKGZpbGVuYW1lQXJlYSk7XG5cbiAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIGlucHV0LnR5cGUgPSBcImZpbGVcIjtcbiAgICAgIGMudG9vbGJhckFyZWEuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgaGVscGVycy5mYWtlSW5wdXQoaW5wdXQsIGZha2VJbnB1dCk7XG4gICAgICBoZWxwZXJzLmRyYWdEcm9wSW5wdXQoaW5wdXQsIGMuZGlzcGxheUFyZWEsIGZpbGVuYW1lQXJlYSwgdGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29uZmlnLmltYWdlKSB7XG4gICAgICB2YXIgc3JjID0gdGhpcy5jb25maWcuaW1hZ2Uuc3JjXG4gICAgICBoZWxwZXJzLmRhdGFVUklGcm9tU3JjKHNyYykudGhlbihmdW5jdGlvbihiYXNlNjQpIHtcbiAgICAgICAgc2VsZi5zdGFydENyb3BwaW5nQXJlYShiYXNlNjQsIHNlbGYpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCghYy50b29sYmFyQXJlYSB8fCAhdGhpcy5jb25maWcuYWxsb3dVcGxvYWQpICYmICF0aGlzLmNvbmZpZy5pbWFnZSkge1xuICAgICAgdmFyIHNyYyA9IGhlbHBlcnMuZ2V0QmdTb3VyY2UoYy5kaXNwbGF5QXJlYSk7XG4gICAgICBoZWxwZXJzLmRhdGFVUklGcm9tU3JjKHNyYykudGhlbihmdW5jdGlvbihiYXNlNjQpIHtcbiAgICAgICAgc2VsZi5zdGFydENyb3BwaW5nQXJlYShiYXNlNjQsIHNlbGYpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHNlbGYuY29uZmlnLmNvbnRhaW5lcnMucHJldmlld0FyZWEpIHNlbGYuZHJhd1ByZXZpZXcoc2VsZik7XG4gICAgICBkb2N1bWVudC5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uKCkge307XG4gICAgfSk7XG5cbiAgICB2YXIgY3JlYXRlZCA9IG5ldyBDdXN0b21FdmVudChcImNyZWF0ZWRcIiwgeyBkZXRhaWw6IHNlbGYuY29uZmlnIH0pO1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3JlYXRlZCk7XG4gIH1cblxuICBzdGFydENyb3BwaW5nQXJlYShiYXNlNjQsIHNlbGYpIHtcbiAgICBjb25zdCBkaXNwbGF5QXJlYSA9IHNlbGYuY29uZmlnLmNvbnRhaW5lcnMuZGlzcGxheUFyZWE7XG5cbiAgICBzZWxmLmNyb3BBcmVhID0gbmV3IENyb3BBcmVhKGRpc3BsYXlBcmVhLCBiYXNlNjQpO1xuICAgIHNlbGYuY3JvcEFyZWEuY3JlYXRlKCkudGhlbihmdW5jdGlvbihpbWcpIHtcbiAgICAgIHNlbGYuaW1hZ2UgPSBpbWc7XG4gICAgICBkaXNwbGF5QXJlYS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCgnXCIgKyBiYXNlNjQgKyBcIicpXCI7XG5cbiAgICAgIHNlbGYucG9pbnRzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIHNlbGYuY3JlYXRlUHJlbWFkZUhhbmRsZXMoaXRlbSwgc2VsZik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGZvciAoY29uc3QgaGFuZGxlIG9mIHNlbGYuaGFuZGxlcykge1xuICAgICAgaGFuZGxlLmRlbGV0ZU5vZGUoKTtcbiAgICB9XG5cbiAgICBzZWxmLmhhbmRsZXMgPSBbXTtcbiAgICBzZWxmLmNyb3BBcmVhLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBzZWxmLmNyZWF0ZUhhbmRsZXMoZXZlbnQsIHNlbGYpO1xuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlUHJlbWFkZUhhbmRsZXMoaXRlbSwgc2VsZikge1xuICAgIGlmIChzZWxmLmNyb3BBcmVhLmlzRHJhd2luZykge1xuICAgICAgbGV0IHBvaW50ID0gaXRlbSxcbiAgICAgIGhhbmRsZSA9IG5ldyBIYW5kbGUoXG4gICAgICAgICAgc2VsZi5jb25maWcuY29udGFpbmVycy5kaXNwbGF5QXJlYSxcbiAgICAgICAgICBzZWxmLmltYWdlLmxlZnQsXG4gICAgICAgICAgc2VsZi5pbWFnZS50b3AsXG4gICAgICAgICAgcG9pbnRcbiAgICAgICAgKTtcblxuICAgICAgaGFuZGxlLmluaXQoc2VsZi5jb25maWcuaGFuZGxlcy5kZWZhdWx0U3R5bGVzLCBzZWxmLmNvbmZpZy5oYW5kbGVzLmNsYXNzKTtcbiAgICAgIHNlbGYuaGFuZGxlcy5wdXNoKGhhbmRsZSk7XG5cbiAgICAgIGlmIChzZWxmLmhhbmRsZXMubGVuZ3RoID09IHNlbGYuY29uZmlnLm51bVBvaW50cyB8fCAoc2VsZi5zaG91bGRBdXRvbWF0aWNhbGx5Q2xvc2VQb2x5Z29uKGl0ZW0sIHNlbGYpKSkge1xuICAgICAgICBzZWxmLnN0YXJ0Q3JvcHBpbmdQb2x5Z29uKHNlbGYpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNob3VsZEF1dG9tYXRpY2FsbHlDbG9zZVBvbHlnb24oaXRlbSwgc2VsZikge1xuICAgIGlmKHR5cGVvZiBzZWxmLmNvbmZpZy5wb2ludHMgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5jb25maWcucG9pbnRzLmxlbmd0aCA+IDBcbiAgICAgICAgJiYgc2VsZi5jb25maWcucG9pbnRzW3NlbGYuY29uZmlnLnBvaW50cy5sZW5ndGggLSAxXS54ID09PSBpdGVtLnggJiYgc2VsZi5jb25maWcucG9pbnRzW3NlbGYuY29uZmlnLnBvaW50cy5sZW5ndGggLSAxXS55ID09PSBpdGVtLnkpe1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY3JlYXRlSGFuZGxlcyhldmVudCwgc2VsZikge1xuICAgIGlmIChzZWxmLmNyb3BBcmVhLmlzRHJhd2luZykge1xuICAgICAgY29uc3QgY2JvdW5kcyA9IHNlbGYuY3JvcEFyZWEuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgeCA9IGV2ZW50LmNsaWVudFggLSBjYm91bmRzLmxlZnQsXG4gICAgICAgIHkgPSBldmVudC5jbGllbnRZIC0gY2JvdW5kcy50b3A7XG5cbiAgICAgIGxldCBwb2ludCA9IG5ldyBQb2ludCh4LCB5KSxcbiAgICAgICAgaGFuZGxlID0gbmV3IEhhbmRsZShcbiAgICAgICAgICBzZWxmLmNvbmZpZy5jb250YWluZXJzLmRpc3BsYXlBcmVhLFxuICAgICAgICAgIHNlbGYuaW1hZ2UubGVmdCxcbiAgICAgICAgICBzZWxmLmltYWdlLnRvcCxcbiAgICAgICAgICBwb2ludFxuICAgICAgICApO1xuXG4gICAgICBoYW5kbGUuaW5pdChzZWxmLmNvbmZpZy5oYW5kbGVzLmRlZmF1bHRTdHlsZXMsIHNlbGYuY29uZmlnLmhhbmRsZXMuY2xhc3MpO1xuICAgICAgc2VsZi5oYW5kbGVzLnB1c2goaGFuZGxlKTtcbiAgICAgIHNlbGYucG9pbnRzLnB1c2gocG9pbnQpO1xuXG4gICAgICBpZiAoc2VsZi5oYW5kbGVzLmxlbmd0aCA9PSBzZWxmLmNvbmZpZy5udW1Qb2ludHMpIHtcbiAgICAgICAgc2VsZi5zdGFydENyb3BwaW5nUG9seWdvbihzZWxmKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGFydENyb3BwaW5nUG9seWdvbihzZWxmID0gdGhpcykge1xuICAgIGNvbnN0IGMgPSBzZWxmLmNvbmZpZy5jcm9wcGluZ0FyZWE7XG5cbiAgICBzZWxmLnBvaW50cyA9IFBvaW50LnNvcnQoc2VsZi5wb2ludHMpO1xuICAgIHNlbGYuY3JvcEFyZWEuaXNEcmF3aW5nID0gZmFsc2U7XG5cbiAgICBzZWxmLmNyb3BQb2x5Z29uID0gbmV3IFBvbHlnb24oXG4gICAgICBzZWxmLmNvbmZpZy5jb250YWluZXJzLmRpc3BsYXlBcmVhLFxuICAgICAgc2VsZi5jcm9wQXJlYS5jYW52YXMsXG4gICAgICBzZWxmLmNvbmZpZy5zbW9vdGhlblxuICAgICk7XG4gICAgc2VsZi5jcm9wUG9seWdvbi5kcmF3V2l0aE92ZXJsYXkoXG4gICAgICBzZWxmLnBvaW50cyxcbiAgICAgIGMub3ZlcmxheUNvbG9yLFxuICAgICAgYy5zdHJva2UsXG4gICAgICBjLnN0cm9rZUNvbG9yLFxuICAgICAgYy5zdHJva2VEYXNoZWQsXG4gICAgICBjLnN0cm9rZVdlaWdodFxuICAgICk7XG5cbiAgICBmb3IgKGNvbnN0IGhhbmRsZSBvZiBzZWxmLmhhbmRsZXMpIHtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IHNlbGYuY29uZmlnLmNyb3BwaW5nQXJlYTtcbiAgICAgIGhhbmRsZS5kaXJlY3Rpb24gPSBoYW5kbGUuc2V0RGlyZWN0aW9uKHNlbGYucG9pbnRzKTtcbiAgICAgIGhhbmRsZS5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgc2VsZi5jcm9wUG9seWdvbi5zdGFydFJlc2l6aW5nKGV2ZW50LCBzZWxmLnBvaW50cywgY29uZmlnKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNlbGYuZHJhd1ByZXZpZXcoc2VsZik7XG4gIH1cblxuICBkcmF3UHJldmlldyhzZWxmKSB7XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIHRoaXMuY3JvcEFyZWEgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgIHRoaXMuY3JvcEFyZWEuaXNEcmF3aW5nID09IGZhbHNlXG4gICAgKSB7XG4gICAgICBjb25zdCBiYXNlNjQgPSB0aGlzLmNyb3BBcmVhLmNyb3AoXG4gICAgICAgIHRoaXMuaW1hZ2UuaW1nLFxuICAgICAgICB0aGlzLmNvbmZpZy5jb250YWluZXJzLnByZXZpZXdBcmVhLFxuICAgICAgICB0aGlzLnBvaW50cyxcbiAgICAgICAgdGhpcy5jb25maWcuY3JvcCxcbiAgICAgICAgdGhpcy5jb25maWcuc21vb3RoZW5cbiAgICAgICk7XG4gICAgICBzZWxmLmNvbmZpZy5jb250YWluZXJzLnByZXZpZXdBcmVhLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9XG4gICAgICAgIFwidXJsKCdcIiArIGJhc2U2NCArIFwiJylcIjtcbiAgICB9XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLmNyb3BBcmVhID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuY3JvcFBvbHlnb24gPSB1bmRlZmluZWQ7XG4gICAgXG4gICAgdGhpcy5oYW5kbGVzID0gW107XG4gICAgdGhpcy5wb2ludHMgPSBbXTtcbiAgICB0aGlzLmltYWdlID0gXCJkYXRhOmltYWdlL2pwZWc7YmFzZTY0LFwiO1xuXG4gICAgaWYgKHRoaXMucHJldmlld0FyZWEpIHRoaXMucHJldmlld0FyZWEuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJcIjtcblxuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgZ2V0UG9pbnRzKCkge1xuICAgIGxldCByZWFsUG9pbnRzID0gW107XG4gICAgZm9yIChjb25zdCBwb2ludCBvZiB0aGlzLnBvaW50cykge1xuICAgICAgcmVhbFBvaW50cy5wdXNoKFxuICAgICAgICBuZXcgUG9pbnQocG9pbnQueCAqIHRoaXMuaW1hZ2UucmF0aW8sIHBvaW50LnkgKiB0aGlzLmltYWdlLnJhdGlvKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlYWxQb2ludHM7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gSWRDcm9wO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9saWIvanMvaWRjcm9wL0lkQ3JvcC5qc1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n')},/*!*********************************!*\
  !*** ./lib/js/idcrop/Handle.js ***!
  \*********************************/
/*! dynamic exports provided */
/*! all exports used */
function(module,exports,__webpack_require__){"use strict";eval('\n\nconst Point = __webpack_require__(/*! ./Point.js */ 0);\n\n/*\n * TODO: Change this class to extend HTMLElement when it\'s stabilized and\n * available in most browsers. Right now it only works in Chrome.\n * https://html.spec.whatwg.org/multipage/custom-elements.html#custom-elements\n */\n\nclass Handle {\n  constructor(parent, offsetX, offsetY, point) {\n    this.parent = parent;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    this.point = new Point(point.x + offsetX, point.y + offsetY);\n\n    this.node = document.createElement("div");\n  }\n\n  init(defaultStyles, additionalClasses) {\n    if (defaultStyles) this.node.className = "idwall-handle";\n    if (additionalClasses) this.node.classList.add(additionalClasses);\n    this.parent.appendChild(this.node);\n    this.node.style.left = this.point.x - this.node.offsetWidth / 2 + "px";\n    this.node.style.top = this.point.y - this.node.offsetWidth / 2 + "px";\n\n    var handleCreated = new CustomEvent("handleCreated", {\n      detail: [this.point.x, this.point.y]\n    });\n    document.dispatchEvent(handleCreated);\n  }\n\n  setDirection(points) {\n    for (const [index, point] of points.entries()) {\n      if (\n        point.x === this.point.x - this.offsetX &&\n        point.y === this.point.y - this.offsetY &&\n        this.node.id === ""\n      ) {\n        this.node.id = "direction-" + index;\n      }\n    }\n  }\n\n  delete() {\n    this.parent.removeChild(this.node);\n    this.node = document.createElement("div");\n  }\n}\n\nmodule.exports = exports = Handle;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9qcy9pZGNyb3AvSGFuZGxlLmpzPzhmNjQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IFBvaW50ID0gcmVxdWlyZShcIi4vUG9pbnQuanNcIik7XG5cbi8qXG4gKiBUT0RPOiBDaGFuZ2UgdGhpcyBjbGFzcyB0byBleHRlbmQgSFRNTEVsZW1lbnQgd2hlbiBpdCdzIHN0YWJpbGl6ZWQgYW5kXG4gKiBhdmFpbGFibGUgaW4gbW9zdCBicm93c2Vycy4gUmlnaHQgbm93IGl0IG9ubHkgd29ya3MgaW4gQ2hyb21lLlxuICogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvY3VzdG9tLWVsZW1lbnRzLmh0bWwjY3VzdG9tLWVsZW1lbnRzXG4gKi9cblxuY2xhc3MgSGFuZGxlIHtcbiAgY29uc3RydWN0b3IocGFyZW50LCBvZmZzZXRYLCBvZmZzZXRZLCBwb2ludCkge1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMub2Zmc2V0WCA9IG9mZnNldFg7XG4gICAgdGhpcy5vZmZzZXRZID0gb2Zmc2V0WTtcbiAgICB0aGlzLnBvaW50ID0gbmV3IFBvaW50KHBvaW50LnggKyBvZmZzZXRYLCBwb2ludC55ICsgb2Zmc2V0WSk7XG5cbiAgICB0aGlzLm5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICB9XG5cbiAgaW5pdChkZWZhdWx0U3R5bGVzLCBhZGRpdGlvbmFsQ2xhc3Nlcykge1xuICAgIGlmIChkZWZhdWx0U3R5bGVzKSB0aGlzLm5vZGUuY2xhc3NOYW1lID0gXCJpZHdhbGwtaGFuZGxlXCI7XG4gICAgaWYgKGFkZGl0aW9uYWxDbGFzc2VzKSB0aGlzLm5vZGUuY2xhc3NMaXN0LmFkZChhZGRpdGlvbmFsQ2xhc3Nlcyk7XG4gICAgdGhpcy5wYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKTtcbiAgICB0aGlzLm5vZGUuc3R5bGUubGVmdCA9IHRoaXMucG9pbnQueCAtIHRoaXMubm9kZS5vZmZzZXRXaWR0aCAvIDIgKyBcInB4XCI7XG4gICAgdGhpcy5ub2RlLnN0eWxlLnRvcCA9IHRoaXMucG9pbnQueSAtIHRoaXMubm9kZS5vZmZzZXRXaWR0aCAvIDIgKyBcInB4XCI7XG5cbiAgICB2YXIgaGFuZGxlQ3JlYXRlZCA9IG5ldyBDdXN0b21FdmVudChcImhhbmRsZUNyZWF0ZWRcIiwge1xuICAgICAgZGV0YWlsOiBbdGhpcy5wb2ludC54LCB0aGlzLnBvaW50LnldXG4gICAgfSk7XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChoYW5kbGVDcmVhdGVkKTtcbiAgfVxuXG4gIHNldERpcmVjdGlvbihwb2ludHMpIHtcbiAgICBmb3IgKGNvbnN0IFtpbmRleCwgcG9pbnRdIG9mIHBvaW50cy5lbnRyaWVzKCkpIHtcbiAgICAgIGlmIChcbiAgICAgICAgcG9pbnQueCA9PT0gdGhpcy5wb2ludC54IC0gdGhpcy5vZmZzZXRYICYmXG4gICAgICAgIHBvaW50LnkgPT09IHRoaXMucG9pbnQueSAtIHRoaXMub2Zmc2V0WSAmJlxuICAgICAgICB0aGlzLm5vZGUuaWQgPT09IFwiXCJcbiAgICAgICkge1xuICAgICAgICB0aGlzLm5vZGUuaWQgPSBcImRpcmVjdGlvbi1cIiArIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGRlbGV0ZSgpIHtcbiAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLm5vZGUpO1xuICAgIHRoaXMubm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gSGFuZGxlO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9saWIvanMvaWRjcm9wL0hhbmRsZS5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n')},/*!***********************************!*\
  !*** ./lib/js/idcrop/CropArea.js ***!
  \***********************************/
/*! dynamic exports provided */
/*! all exports used */
function(module,exports,__webpack_require__){"use strict";eval('\n\nconst BgImage = __webpack_require__(/*! ./BgImage.js */ 6);\nconst Polygon = __webpack_require__(/*! ./Polygon.js */ 1);\nconst Point = __webpack_require__(/*! ./Point.js */ 0);\n\nconst helpers = __webpack_require__(/*! ./helpers.js */ 2);\n\nclass CropArea {\n  constructor(container, base64) {\n    this.container = container;\n    this.base64 = base64;\n\n    this.canvas = document.createElement("canvas");\n    this.isDrawing = false;\n    this.img = "";\n  }\n\n  clearCanvas() {\n    this.isDrawing = true;\n\n    const context = this.canvas.getContext("2d");\n    context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n  }\n\n  create() {\n    this.clearCanvas();\n\n    this.container.innerHTML = "";\n    this.container.style.backgroundImage = "url(" + this.base64 + ")";\n    this.container.appendChild(this.canvas);\n\n    let that = this;\n    return helpers.loadImage(this.base64).then(function(img) {\n      that.img = new BgImage(img, that.container);\n      that.canvas.width = that.img.width;\n      that.canvas.height = that.img.height;\n      that.canvas.style.left = that.img.left + "px";\n      that.canvas.style.top = that.img.top + "px";\n      return that.img;\n    });\n  }\n\n  crop(img, preview, points, config, smoothen) {\n    const auxCanvas = document.createElement("canvas");\n\n    auxCanvas.width = this.img.realWidth;\n    auxCanvas.height = this.img.realHeight;\n\n    let realPoints = [];\n    for (const point of points) {\n      realPoints.push(\n        new Point(point.x * this.img.ratio, point.y * this.img.ratio)\n      );\n    }\n\n    const renderer = new Polygon(preview, auxCanvas, smoothen);\n    renderer.drawWithOverlay(\n      realPoints,\n      config.overlayColor,\n      config.stroke,\n      config.strokeColor,\n      config.strokeDashed,\n      config.strokeWeight,\n      config.fillColor,\n      config.showImage ? img : config.showImage\n    );\n\n    var base64 = auxCanvas.toDataURL();\n    var crop = new CustomEvent("crop", { detail: base64 });\n    document.dispatchEvent(crop);\n\n    return base64;\n  }\n}\n\nmodule.exports = exports = CropArea;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9qcy9pZGNyb3AvQ3JvcEFyZWEuanM/YzJhNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgQmdJbWFnZSA9IHJlcXVpcmUoXCIuL0JnSW1hZ2UuanNcIik7XG5jb25zdCBQb2x5Z29uID0gcmVxdWlyZShcIi4vUG9seWdvbi5qc1wiKTtcbmNvbnN0IFBvaW50ID0gcmVxdWlyZShcIi4vUG9pbnQuanNcIik7XG5cbmNvbnN0IGhlbHBlcnMgPSByZXF1aXJlKFwiLi9oZWxwZXJzLmpzXCIpO1xuXG5jbGFzcyBDcm9wQXJlYSB7XG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lciwgYmFzZTY0KSB7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgdGhpcy5iYXNlNjQgPSBiYXNlNjQ7XG5cbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgdGhpcy5pc0RyYXdpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmltZyA9IFwiXCI7XG4gIH1cblxuICBjbGVhckNhbnZhcygpIHtcbiAgICB0aGlzLmlzRHJhd2luZyA9IHRydWU7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICB9XG5cbiAgY3JlYXRlKCkge1xuICAgIHRoaXMuY2xlYXJDYW52YXMoKTtcblxuICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyB0aGlzLmJhc2U2NCArIFwiKVwiO1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKTtcblxuICAgIGxldCB0aGF0ID0gdGhpcztcbiAgICByZXR1cm4gaGVscGVycy5sb2FkSW1hZ2UodGhpcy5iYXNlNjQpLnRoZW4oZnVuY3Rpb24oaW1nKSB7XG4gICAgICB0aGF0LmltZyA9IG5ldyBCZ0ltYWdlKGltZywgdGhhdC5jb250YWluZXIpO1xuICAgICAgdGhhdC5jYW52YXMud2lkdGggPSB0aGF0LmltZy53aWR0aDtcbiAgICAgIHRoYXQuY2FudmFzLmhlaWdodCA9IHRoYXQuaW1nLmhlaWdodDtcbiAgICAgIHRoYXQuY2FudmFzLnN0eWxlLmxlZnQgPSB0aGF0LmltZy5sZWZ0ICsgXCJweFwiO1xuICAgICAgdGhhdC5jYW52YXMuc3R5bGUudG9wID0gdGhhdC5pbWcudG9wICsgXCJweFwiO1xuICAgICAgcmV0dXJuIHRoYXQuaW1nO1xuICAgIH0pO1xuICB9XG5cbiAgY3JvcChpbWcsIHByZXZpZXcsIHBvaW50cywgY29uZmlnLCBzbW9vdGhlbikge1xuICAgIGNvbnN0IGF1eENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG5cbiAgICBhdXhDYW52YXMud2lkdGggPSB0aGlzLmltZy5yZWFsV2lkdGg7XG4gICAgYXV4Q2FudmFzLmhlaWdodCA9IHRoaXMuaW1nLnJlYWxIZWlnaHQ7XG5cbiAgICBsZXQgcmVhbFBvaW50cyA9IFtdO1xuICAgIGZvciAoY29uc3QgcG9pbnQgb2YgcG9pbnRzKSB7XG4gICAgICByZWFsUG9pbnRzLnB1c2goXG4gICAgICAgIG5ldyBQb2ludChwb2ludC54ICogdGhpcy5pbWcucmF0aW8sIHBvaW50LnkgKiB0aGlzLmltZy5yYXRpbylcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgUG9seWdvbihwcmV2aWV3LCBhdXhDYW52YXMsIHNtb290aGVuKTtcbiAgICByZW5kZXJlci5kcmF3V2l0aE92ZXJsYXkoXG4gICAgICByZWFsUG9pbnRzLFxuICAgICAgY29uZmlnLm92ZXJsYXlDb2xvcixcbiAgICAgIGNvbmZpZy5zdHJva2UsXG4gICAgICBjb25maWcuc3Ryb2tlQ29sb3IsXG4gICAgICBjb25maWcuc3Ryb2tlRGFzaGVkLFxuICAgICAgY29uZmlnLnN0cm9rZVdlaWdodCxcbiAgICAgIGNvbmZpZy5maWxsQ29sb3IsXG4gICAgICBjb25maWcuc2hvd0ltYWdlID8gaW1nIDogY29uZmlnLnNob3dJbWFnZVxuICAgICk7XG5cbiAgICB2YXIgYmFzZTY0ID0gYXV4Q2FudmFzLnRvRGF0YVVSTCgpO1xuICAgIHZhciBjcm9wID0gbmV3IEN1c3RvbUV2ZW50KFwiY3JvcFwiLCB7IGRldGFpbDogYmFzZTY0IH0pO1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3JvcCk7XG5cbiAgICByZXR1cm4gYmFzZTY0O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IENyb3BBcmVhO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9saWIvanMvaWRjcm9wL0Nyb3BBcmVhLmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n')},/*!**********************************!*\
  !*** ./lib/js/idcrop/BgImage.js ***!
  \**********************************/
/*! dynamic exports provided */
/*! all exports used */
function(module,exports,__webpack_require__){"use strict";eval("\n\nclass BgImage {\n  constructor(img, container) {\n    this.container = container;\n    this.img = img;\n  }\n\n  get realWidth() {\n    return this.img.width;\n  }\n\n  get realHeight() {\n    return this.img.height;\n  }\n\n  get left() {\n    return this.calcDimensions().left;\n  }\n\n  get top() {\n    return this.calcDimensions().top;\n  }\n\n  get width() {\n    return this.calcDimensions().width;\n  }\n\n  get height() {\n    return this.calcDimensions().height;\n  }\n\n  get ratio() {\n    return this.realHeight / this.height;\n  }\n\n  calcDimensions() {\n    const bounds = this.container.getBoundingClientRect();\n\n    // Possible resized width and height.\n    const height = this.realHeight * bounds.width / this.realWidth;\n    const width = this.realWidth * bounds.height / this.realHeight;\n\n    if (height <= bounds.height) {\n      return {\n        width: bounds.width,\n        height: height,\n        top: (bounds.height - height) / 2,\n        left: 0\n      };\n    } else {\n      return {\n        height: bounds.height,\n        width: width,\n        top: 0,\n        left: (bounds.width - width) / 2\n      };\n    }\n  }\n}\n\nmodule.exports = exports = BgImage;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9qcy9pZGNyb3AvQmdJbWFnZS5qcz9iNTk3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jbGFzcyBCZ0ltYWdlIHtcbiAgY29uc3RydWN0b3IoaW1nLCBjb250YWluZXIpIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLmltZyA9IGltZztcbiAgfVxuXG4gIGdldCByZWFsV2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW1nLndpZHRoO1xuICB9XG5cbiAgZ2V0IHJlYWxIZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW1nLmhlaWdodDtcbiAgfVxuXG4gIGdldCBsZWZ0KCkge1xuICAgIHJldHVybiB0aGlzLmNhbGNEaW1lbnNpb25zKCkubGVmdDtcbiAgfVxuXG4gIGdldCB0b3AoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsY0RpbWVuc2lvbnMoKS50b3A7XG4gIH1cblxuICBnZXQgd2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsY0RpbWVuc2lvbnMoKS53aWR0aDtcbiAgfVxuXG4gIGdldCBoZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FsY0RpbWVuc2lvbnMoKS5oZWlnaHQ7XG4gIH1cblxuICBnZXQgcmF0aW8oKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhbEhlaWdodCAvIHRoaXMuaGVpZ2h0O1xuICB9XG5cbiAgY2FsY0RpbWVuc2lvbnMoKSB7XG4gICAgY29uc3QgYm91bmRzID0gdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAvLyBQb3NzaWJsZSByZXNpemVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5yZWFsSGVpZ2h0ICogYm91bmRzLndpZHRoIC8gdGhpcy5yZWFsV2lkdGg7XG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLnJlYWxXaWR0aCAqIGJvdW5kcy5oZWlnaHQgLyB0aGlzLnJlYWxIZWlnaHQ7XG5cbiAgICBpZiAoaGVpZ2h0IDw9IGJvdW5kcy5oZWlnaHQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiBib3VuZHMud2lkdGgsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICB0b3A6IChib3VuZHMuaGVpZ2h0IC0gaGVpZ2h0KSAvIDIsXG4gICAgICAgIGxlZnQ6IDBcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogYm91bmRzLmhlaWdodCxcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IChib3VuZHMud2lkdGggLSB3aWR0aCkgLyAyXG4gICAgICB9O1xuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBCZ0ltYWdlO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9saWIvanMvaWRjcm9wL0JnSW1hZ2UuanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n")}]);